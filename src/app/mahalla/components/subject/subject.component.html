<!-- 
<c-card class="mb-3" [ngStyle]="{'max-width.px': 800}">
  <c-row class="g-0">
    <c-col [md]="4">
      <img [cCardImg] src="../../../../assets/img/market.jpg">
    </c-col>
    <c-card-body cCol [md]="8">
      <h5 cCardTitle>Do'kon</h5>
      <p cCardText>
        Manzil: Qarshi shahri Xontepa mahalla <br>
        Telefon: +998991234455 <br>

      </p>
      <p cCardText>
        <small class="text-medium-emphasis"> </small>
      </p>
    </c-card-body>
  </c-row>
</c-card>
<c-card class="mb-3" [ngStyle]="{'max-width.px': 800}">
  <c-row class="g-0">
    <c-col [md]="4">
      <img [cCardImg] src="../../../../assets/img/barbershop.jpg">
    </c-col>
    <c-card-body cCol [md]="8">
      <h5 cCardTitle>Sartaroshxona</h5>
      <p cCardText>
        Manzil: Qarshi shahri Aral mahalla <br>
        Telefon: +998991234455 <br>

      </p>
      <p cCardText>
        <small class="text-medium-emphasis"> </small>
      </p>
    </c-card-body>
  </c-row>
</c-card>
<c-card class="mb-3" [ngStyle]="{'max-width.px': 800}">
  <c-row class="g-0">
    <c-col [md]="4">
      <img [cCardImg] src="../../../../assets/img/go'sht.jpg">
    </c-col>
    <c-card-body cCol [md]="8">
      <h5 cCardTitle>Go'sht do'kon</h5>
      <p cCardText>
        Manzil: Qarshi shahri Xaramjo'y mahalla <br>
        Telefon: +998991234455 <br>

      </p>
      <p cCardText>
        <small class="text-medium-emphasis"> </small>
      </p>
    </c-card-body>
  </c-row>
</c-card>
<c-card class="mb-3" [ngStyle]="{'max-width.px': 800}">
  <c-row class="g-0">
    <c-col [md]="4">
      <img [cCardImg] src="../../../../assets/img/kelajakaqlli.jpg">
    </c-col>
    <c-card-body cCol [md]="8">
      <h5 cCardTitle>Issiqxona</h5>
      <p cCardText>
        Manzil: Qarshi shahri Gulshan mahalla <br>
        Telefon: +998991234455 <br>

      </p>
      <p cCardText>
        <small class="text-medium-emphasis"> </small>
      </p>
    </c-card-body>
  </c-row>
</c-card>
<c-card class="mb-3" [ngStyle]="{'max-width.px': 800}">
  <c-row class="g-0">
    <c-col [md]="4">
      <img [cCardImg] src="../../../../assets/img/tarvuz.jpg">
    </c-col>
    <c-card-body cCol [md]="8">
      <h5 cCardTitle>Poliz ekinlari rastasi</h5>
      <p cCardText>
        Manzil: Qarshi shahri Navo mahalla <br>
        Telefon: +998991234455 <br>

      </p>
      <p cCardText>
        <small class="text-medium-emphasis"> </small>
      </p>
    </c-card-body>
  </c-row>
</c-card>
<c-card class="mb-3" [ngStyle]="{'max-width.px': 800}">
  <c-row class="g-0">
    <c-col [md]="4">
      <img [cCardImg] src="../../../../assets/img/barbershop.jpg">
    </c-col>
    <c-card-body cCol [md]="8">
      <h5 cCardTitle>Sartaroshxona</h5>
      <p cCardText>
        Manzil: Qarshi shahri Aral mahalla <br>
        Telefon: +998991234455 <br>

      </p>
      <p cCardText>
        <small class="text-medium-emphasis"> </small>
      </p>
    </c-card-body>
  </c-row>
</c-card>
<c-card class="mb-3" [ngStyle]="{'max-width.px': 800}">
  <c-row class="g-0">
    <c-col [md]="4">
      <img [cCardImg] src="../../../../assets/img/go'sht.jpg">
    </c-col>
    <c-card-body cCol [md]="8">
      <h5 cCardTitle>Go'sht do'kon </h5>
      <p cCardText>
        Manzil: Qarshi shahri Aral mahalla <br>
        Telefon: +998991234455 <br>

      </p>
      <p cCardText>
        <small class="text-medium-emphasis"> </small>
      </p>
    </c-card-body>
  </c-row>
</c-card> -->

<!-- <c-row [gutter]="4" class="mb-3" [md]="3" [xs]="1">
    <c-col *ngFor="let card of cards; index as i;">
      <c-card class="h-100">
        <img cCardImg="top" src="../../.././../assets/img/mans/soliq.jpg">
        <c-card-body>
          <h5 cCardTitle>Tashkilot</h5>
          <p cCardText>
            {{card.body}} <br>
            <b>Telefon: +998998876655'</b>
          

          </p>
        </c-card-body>
        <c-card-footer>
          <small class="text-medium-emphasis">So'nggi tashrif {{i+10}} mins avval</small>
        </c-card-footer>
      </c-card>
    </c-col>
  </c-row> -->

<!--   
<c-card class="mb-3" [ngStyle]="{'max-width.px': 800}">
  <c-row class="g-0">
    <c-col [md]="4">
      <img [cCardImg]src="../../.././../assets/img/mans/soliq.jpg">
    </c-col>
    <c-card-body cCol [md]="8">
      <h5 cCardTitle>Davlat soliq qo'mitasi</h5>
      <p cCardText>
        Manzil: Qarshi shahri Xontepa mahalla <br>
        Telefon: +998991234455 <br>

      </p>
      <p cCardText>
        <small class="text-medium-emphasis"> </small>
      </p>
    </c-card-body>
  </c-row>
</c-card>
<c-card class="mb-3" [ngStyle]="{'max-width.px': 800}">
  <c-row class="g-0">
    <c-col [md]="4">
      <img [cCardImg] src="/assets/img/mans/elekt.jpg">
    </c-col>
    <c-card-body cCol [md]="8">
      <h5 cCardTitle>Elektir taminoti</h5>
      <p cCardText>
        Manzil: Qarshi shahri Aral mahalla <br>
        Telefon: +998991234455 <br>

      </p>
      <p cCardText>
        <small class="text-medium-emphasis"> </small>
      </p>
    </c-card-body>
  </c-row>
</c-card>
<c-card class="mb-3" [ngStyle]="{'max-width.px': 800}">
  <c-row class="g-0">
    <c-col [md]="4">
      <img [cCardImg] src="/assets/img/mans/hududgaz.jpg">
    </c-col>
    <c-card-body cCol [md]="8">
      <h5 cCardTitle>Hudud gaz</h5>
      <p cCardText>
        Manzil: Qarshi shahri Xaramjo'y mahalla <br>
        Telefon: +998991234455 <br>

      </p>
      <p cCardText>
        <small class="text-medium-emphasis"> </small>
      </p>
    </c-card-body>
  </c-row>
</c-card>
 <c-card class="mb-3" [ngStyle]="{'max-width.px': 800}"> 
  <c-row class="g-0">
    <c-col [md]="4">
      <img [cCardImg] src="/assets/img/mans/suv.jpg">
    </c-col>
    <c-card-body cCol [md]="8">
      <h5 cCardTitle>Suv taminoti</h5>
      <p cCardText>
        Manzil: Qarshi shahri Gulshan mahalla <br>
        Telefon: +998991234455 <br>

      </p>
      <p cCardText>
        <small class="text-medium-emphasis"> </small>
      </p>
    </c-card-body>
  </c-row>
</c-card>
<c-card class="mb-3" [ngStyle]="{'max-width.px': 800}">
  <c-row class="g-0">
    <c-col [md]="4">
      <img [cCardImg] src="/assets/img/tarvuz.jpg">
    </c-col>
    <c-card-body cCol [md]="8">
      <h5 cCardTitle>Poliz ekinlari rastasi</h5>
      <p cCardText>
        Manzil: Qarshi shahri Navo mahalla <br>
        Telefon: +998991234455 <br>

      </p>
      <p cCardText>
        <small class="text-medium-emphasis"> </small>
      </p>
    </c-card-body>
  </c-row>
</c-card>
<c-card class="mb-3" [ngStyle]="{'max-width.px': 800}">
  <c-row class="g-0">
    <c-col [md]="4">
      <img [cCardImg] src="/assets/img/barbershop.jpg">
    </c-col>
    <c-card-body cCol [md]="8">
      <h5 cCardTitle>Sartaroshxona</h5>
      <p cCardText>
        Manzil: Qarshi shahri Aral mahalla <br>
        Telefon: +998991234455 <br>

      </p>
      <p cCardText>
        <small class="text-medium-emphasis"> </small>
      </p>
    </c-card-body>
  </c-row>
</c-card>
<c-card class="mb-3" [ngStyle]="{'max-width.px': 800}">
  <c-row class="g-0">
    <c-col [md]="4">
      <img [cCardImg] src="/assets/img/go'sht.jpg">
    </c-col>
    <c-card-body cCol [md]="8">
      <h5 cCardTitle>Go'sht do'kon </h5>
      <p cCardText>
        Manzil: Qarshi shahri Aral mahalla <br>
        Telefon: +998991234455 <br>
      </p>
      <p cCardText>
        <small class="text-medium-emphasis"> </small>
      </p>
    </c-card-body>
  </c-row>
</c-card> -->

<mat-card>
  <h1>
    Subyekt
  </h1>
</mat-card>
<mat-card>

  <mat-accordion>
    <mat-expansion-panel [expanded]='panelOpenState' (opened)="panelOpenState = true" (closed)="panelOpenState = false">
      <mat-expansion-panel-header>
        <mat-panel-title>
        Subyekt qo'shish
        </mat-panel-title>

      </mat-expansion-panel-header>

      <form [formGroup]='createForm' (ngSubmit)="save()">

        <mat-form-field *ngIf='tahrirRejim' appearance="fill">
          <mat-label>ID</mat-label>
          <input name="id" formControlName='id' matInput>
        </mat-form-field>
        <br>
        <mat-form-field appearance="fill">
          <mat-label>Nom</mat-label>
          <input name="name" formControlName='name' matInput>
        </mat-form-field><br>
        <mat-form-field appearance="fill">
          <mat-label>Manzil</mat-label>
          <input name="name" formControlName='address' matInput>
        </mat-form-field><br>
        <mat-form-field appearance="fill">
          <mat-label>Izoh</mat-label>
          <input name="name" formControlName='description' matInput>
        </mat-form-field><br>
        <mat-form-field appearance="fill">
          <mat-label>Telefon raqam</mat-label>
          <input name="name" formControlName='phone' matInput>
        </mat-form-field><br>
        <mat-form-field  appearance="fill">
          <mat-label>Subyekt tur</mat-label>
          <mat-select formControlName="type">
            <mat-option value='SUBJECT'>SUBYEKT</mat-option>
            <mat-option value='TAMINOTCHI'>TAMINOTCHI</mat-option>
          </mat-select>
        </mat-form-field>
        <div class="col-12">
          <div style="margin: 10px;">
            <label for="formFileLg" class="form-label">Tashkilot Rasmini yuklash</label>
            <input required #inputFile class="form-control form-control-lg" id="formFileLg" type="file">
            <label for="formFileLg" class="form-label mt-2">Eslatma:
             </label>
          </div>
          </div>


          <button type="submit" [disabled]='createForm.invalid || sorovBajarilmoqda' mat-raised-button color="primary">
            <mat-icon>add</mat-icon>
            Saqlash
          </button>

          <button type="button" mat-raised-button color="warn" (click)='tozalash()'>
            <mat-icon>clear</mat-icon>
            Bekor qilish
          </button><br>
      </form>

    </mat-expansion-panel>
  </mat-accordion>


</mat-card>

<div class="example-container mat-elevation-z8">
  <div class="example-loading-shade" *ngIf="isLoadingResults || isRateLimitReached">
    <mat-spinner *ngIf="isLoadingResults"></mat-spinner>
    <div class="example-rate-limit-reached" *ngIf="isRateLimitReached">
      Ma'lumotlarni olib kelishning imkon bo'lmadi
    </div>
  </div>
  <div class="example-table-container">
    <table mat-table  class="example-table" matSort matSortActive="id" matSortDisableClear
      matSortDirection="desc">

      <ng-container matColumnDef="id">
        <th mat-header-cell mat-sort-header *matHeaderCellDef>ID</th>
        <td mat-cell *matCellDef="let row">{{row.id}}</td>
      </ng-container>


      <ng-container matColumnDef="name">
        <th mat-header-cell mat-sort-header *matHeaderCellDef>Nom</th>
        <td class="name" mat-cell *matCellDef="let row">
          <span> {{row?.name}}</span>

        </td>
      </ng-container>
      <ng-container matColumnDef="address">
        <th mat-header-cell mat-sort-header *matHeaderCellDef>Manzil</th>
        <td class="name" mat-cell *matCellDef="let row">
          <span> {{row?.address}}</span>

        </td>
      </ng-container>
      <ng-container matColumnDef="phone">
        <th mat-header-cell mat-sort-header *matHeaderCellDef>Telefon</th>
        <td class="name" mat-cell *matCellDef="let row">
          <span> {{row?.phone}}</span>

        </td>
      </ng-container>
      <ng-container matColumnDef="description">
        <th mat-header-cell mat-sort-header *matHeaderCellDef>Izoh</th>
        <td class="name" mat-cell *matCellDef="let row">
          <span> {{row?.description}}</span>
        </td>
      </ng-container>
      <ng-container matColumnDef="type">
        <th mat-header-cell *matHeaderCellDef>Subyekt tur</th>
        <td mat-cell *matCellDef="let row">{{row.type}}</td>
      </ng-container>

      
      <!-- <ng-container matColumnDef="viloyat">
        <th mat-header-cell mat-sort-header *matHeaderCellDef>Viloyat</th>
        <td class="status" mat-cell *matCellDef="let row">
          <span> {{row?.viloyat.name}}</span>
        </td>
      </ng-container> -->

      <ng-container matColumnDef="amal">
        <th mat-header-cell *matHeaderCellDef>Amal</th>
        <td mat-cell *matCellDef="let row">

          <button mat-mini-fab color="primary" (click)='edit(row)'>
            <mat-icon>edit</mat-icon>
          </button>
          <button *ngIf="row?.status" mat-mini-fab color="accent" (click)='ochirish(row?.id)'>
            <mat-icon>delete</mat-icon>
          </button>
          <button *ngIf="!row?.status" mat-mini-fab style="background-color: rgb(0, 255, 21);"
            (click)='ochirish(row?.id)'>
            <mat-icon>add</mat-icon>
          </button>
        </td>
      </ng-container>


      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    <mat-paginator [length]="length" [pageSizeOptions]="[pageValue]" (click)="pageClick()">
    </mat-paginator>
  </div>
</div>